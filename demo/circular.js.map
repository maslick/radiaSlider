{"version":3,"sources":["../src/slider-circular.js","circular.js"],"names":["Slider","options","sliders","scaleWidth","fillWidth","knobWidth","startAngle","Math","PI","endAngle","continuousMode","container","document","getElementById","canvasId","the_body","body","context","setupHiDpiCanvas","x0","undefined","width","y0","height","window","devicePixelRatio","MouseX","MouseY","selectedSlider","currentSlider","readOnly","rotationEventListener","_rotation","bind","addEventListener","_handleMouseDown","_handleMouseUp","_handleClick","_handleTouch","_handleMove","_handleEnd","id","color","min","max","radius","onValueChangeCallback","changed","v","ang_degrees","normalizedValue","step","obj","setSliderValue","value","slider","radToDeg","normalizeTan","drawAll","key","clearRect","hasOwnProperty","drawScale","drawData","drawArrow","drawKnob","drawCenterDot","i","beginPath","strokeStyle","arc","lineWidth","stroke","fillStyle","fill","moveTo","lineTo","cos","sin","x","y","atan2","rect","getBoundingClientRect","event","touches","clientX","left","clientY","top","calculateUserCursor","hip","sqrt","pow","abs","preventDefault","getSelectedSlider","removeEventListener","calculateAngles","canvas","ctx","getContext","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","ratio","oldWidth","oldHeight","style","scale","ang","module","exports","addSlider","innerHTML","deg","toFixed","slider2"],"mappings":"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","file":"circular.js","sourceRoot":"../example","sourcesContent":["(function () {\n    class Slider {\n        constructor(options) {\n            this.sliders = {};\n            this.scaleWidth = 34;\n            this.fillWidth = 35;\n            this.knobWidth = 35;\n\n            this.startAngle = 1.5 * Math.PI + 0.000001;\n            this.endAngle = 1.5 * Math.PI - 0.000001;\n\n            this.continuousMode = options.continuousMode || false;\n\n            this.container = document.getElementById(options.canvasId);\n            this.the_body = document.body;\n            this.context = Slider.setupHiDpiCanvas(this.container);\n\n            this.x0 = options.x0 === undefined ? this.container.width / 2 : options.x0;\n            this.y0 = options.y0 === undefined ? this.container.height / 2 : options.y0;\n            this.x0 /= window.devicePixelRatio || 1;\n            this.y0 /= window.devicePixelRatio || 1;\n\n            this.MouseX = 0;\n            this.MouseY = 0;\n\n            this.selectedSlider = null;\n            this.currentSlider = null;\n\n            this.readOnly = options.readOnly || false;\n            if (!this.readOnly) {\n                this.rotationEventListener = this._rotation.bind(this);\n                this.container.addEventListener('mousedown', this._handleMouseDown.bind(this), false);\n                this.the_body.addEventListener('mouseup', this._handleMouseUp.bind(this), false);\n                this.container.addEventListener('click', this._handleClick.bind(this), false);\n\n                this.container.addEventListener('touchstart', this._handleTouch.bind(this), false);\n                this.container.addEventListener('touchmove', this._handleMove.bind(this), false);\n                this.container.addEventListener('touchend', this._handleEnd.bind(this), false);\n            }\n        }\n\n        static setupHiDpiCanvas(canvas) {\n            let ctx = canvas.getContext('2d');\n            let devicePixelRatio = window.devicePixelRatio || 1;\n            let backingStoreRatio =\n                ctx.webkitBackingStorePixelRatio ||\n                ctx.mozBackingStorePixelRatio ||\n                ctx.msBackingStorePixelRatio ||\n                ctx.oBackingStorePixelRatio ||\n                ctx.backingStorePixelRatio || 1;\n\n            let ratio = devicePixelRatio / backingStoreRatio;\n            // upscale the canvas if the two ratios don't match\n            if (devicePixelRatio !== backingStoreRatio) {\n                let oldWidth = canvas.width;\n                let oldHeight = canvas.height;\n\n                canvas.width = oldWidth * ratio;\n                canvas.height = oldHeight * ratio;\n\n                canvas.style.width = oldWidth + 'px';\n                canvas.style.height = oldHeight + 'px';\n\n                // now scale the context to counter\n                // the fact that we've manually scaled\n                // our canvas element\n                ctx.scale(ratio, ratio);\n            }\n            return ctx;\n        }\n\n        // Adds a slider band to the slider\n        addSlider(options) {\n            this.sliders[options.id] = {\n                id: options.id,\n                container: document.getElementById(options.container),\n                color: options.color || '#104b63',\n                min: options.min || 0,\n                max: options.max || 100,\n                radius: options.radius || 100,\n                startAngle: this.startAngle,\n                endAngle: this.endAngle,\n                onValueChangeCallback: options.changed || function (v) {},\n                ang_degrees: 0,\n                normalizedValue: options.min || 0,\n                step: options.step || 1\n            };\n\n            const obj = this.sliders[options.id];\n            this.setSliderValue(obj.id, options.min);\n        }\n\n        // Sets (draws) slider band value given the band id and value\n        setSliderValue(id, value) {\n            const slider = this.sliders[id];\n            if (value <= slider.min) {\n                slider.endAngle = this.startAngle;\n                slider.ang_degrees = 0;\n                slider.normalizedValue = 0;\n            } else if (value >= slider.max) {\n                slider.endAngle = this.endAngle;\n                slider.ang_degrees = 360;\n                slider.normalizedValue = slider.max;\n            } else {\n                //value = (value / slider.step >> 0) * slider.step;\n                slider.endAngle = 2 * Math.PI * (value - slider.min) / (slider.max - slider.min) - Math.PI / 2;\n                slider.ang_degrees = Slider.radToDeg(Slider.normalizeTan(slider.endAngle));\n                slider.normalizedValue = value;\n            }\n\n            this.drawAll();\n        }\n\n        // Redraws everything\n        drawAll() {\n            this.context.clearRect(0, 0, this.container.width, this.container.height);\n            for (let key in this.sliders) {\n                if (!this.sliders.hasOwnProperty(key)) continue;\n                const obj = this.sliders[key];\n                this.drawScale(obj);\n                this.drawData(obj);\n                this.drawArrow(obj);\n                this.drawKnob(obj);\n                obj.onValueChangeCallback({'rad': obj.endAngle, 'deg': obj.ang_degrees, 'value': obj.normalizedValue});\n            }\n            this.drawCenterDot();\n        }\n\n        // Draw the scale for a selected slider band\n        drawScale(slider) {\n            // Scale\n            for (let i = 0; i <= 2 * Math.PI; i += Math.PI / 6) {\n                this.context.beginPath();\n                this.context.strokeStyle = '#eeeeee';\n                this.context.arc(this.x0, this.y0, slider.radius, i, i + Math.PI / 4, false);\n                this.context.lineWidth = this.scaleWidth;\n                this.context.stroke();\n            }\n        }\n\n        // Draw dot in the center\n        drawCenterDot () {\n            this.context.beginPath();\n            this.context.strokeStyle = '#eeeeee';\n            this.context.arc(this.x0, this.y0, this.scaleWidth/2, 0, Math.PI*2, false);\n            this.context.lineWidth = 1;\n            this.context.fillStyle = '#eeeeee';\n            this.context.fill();\n        }\n\n        // Draw the data on the selected slider band\n        drawData(slider) {\n            this.context.beginPath();\n            this.context.strokeStyle = slider.color;\n            this.context.arc(this.x0, this.y0, slider.radius, slider.startAngle, slider.endAngle, false);\n            this.context.lineWidth = this.fillWidth;\n            this.context.stroke();\n        }\n\n        // Draw tail arrow\n        drawArrow(slider) {\n            this.context.beginPath();\n            this.context.moveTo(this.x0, this.y0 - slider.radius + this.scaleWidth / 2);\n            this.context.lineTo(this.x0, this.y0 - this.scaleWidth - slider.radius + this.scaleWidth / 2);\n            this.context.lineTo(this.x0 + this.scaleWidth / 4, this.y0 - this.scaleWidth / 2 - slider.radius + this.scaleWidth / 2);\n            this.context.fillStyle = \"#eeeeee\";\n            this.context.fill();\n        }\n\n        // Draw the knob (control element)\n        drawKnob(slider) {\n            // Knob\n            this.context.beginPath();\n            this.context.strokeStyle = '#eb879c';\n            this.context.arc(\n                Math.cos(slider.endAngle) * slider.radius + this.x0,\n                Math.sin(slider.endAngle) * slider.radius + this.y0,\n                this.knobWidth / 2,\n                0, Math.PI * 2, false\n            );\n            this.context.lineWidth = 1;\n\n            this.context.fillStyle = '#eb879c';\n            this.context.fill();\n\n            // Dot on the knob\n            this.context.beginPath();\n            this.context.strokeStyle = 'yellow';\n            this.context.arc(\n                Math.cos(slider.endAngle) * slider.radius + this.x0,\n                Math.sin(slider.endAngle) * slider.radius + this.y0,\n                this.scaleWidth / 10,\n                0, Math.PI * 2, false\n            );\n            this.context.lineWidth = 1;\n            this.context.fillStyle = 'yellow';\n            this.context.fill();\n        }\n\n        // Calculate angles given the cursor position\n        calculateAngles(x, y) {\n            if (!this.selectedSlider) return;\n\n            let max = this.selectedSlider.max,\n                min = this.selectedSlider.min,\n                step = this.selectedSlider.step,\n                endAngle = Math.atan2(y - this.y0, x - this.x0),\n                ang_degrees = Slider.radToDeg(Slider.normalizeTan(endAngle)),\n                normalizedValue = Slider.normalizeTan(endAngle) * (max - min) / (2 * Math.PI) + min;\n\n            normalizedValue = (normalizedValue / step >> 0) * step;\n\n            this.selectedSlider.endAngle = endAngle;\n            this.selectedSlider.ang_degrees = ang_degrees;\n            this.selectedSlider.normalizedValue = normalizedValue;\n        }\n\n        // Helper method\n        static radToDeg(ang) {\n            return ang * 180 / Math.PI;\n        }\n\n        // Normalizes tangent\n        static normalizeTan(ang) {\n            return ang + Math.PI / 2 > 0 ? ang + Math.PI / 2 : (2 * Math.PI + ang + Math.PI / 2);\n        }\n\n        // Calculates cursor coordinates\n        calculateUserCursor() {\n            const rect = this.container.getBoundingClientRect();\n\n            if (event.touches) {\n                this.MouseX = event.touches[0].clientX - rect.left;\n                this.MouseY = event.touches[0].clientY - rect.top;\n            } else {\n                this.MouseX = event.clientX - rect.left;\n                this.MouseY = event.clientY - rect.top;\n            }\n        }\n\n\n        // Returns a slider band based on the cursor position\n        getSelectedSlider() {\n            this.calculateUserCursor();\n            const hip = Math.sqrt(Math.pow(this.MouseX - this.x0, 2) + Math.pow(this.MouseY - this.y0, 2));\n            let selectedSlider;\n\n            for (let key in this.sliders) {\n                if (!this.sliders.hasOwnProperty(key)) continue;\n                const obj = this.sliders[key];\n                if (Math.abs(hip - obj.radius) <= this.scaleWidth / 2) {\n                    selectedSlider = obj;\n                    break;\n                }\n            }\n            return selectedSlider ? selectedSlider : null;\n        }\n\n\n        // Event handlers (mousedown, mouseup, mousemove, mouseclick, touches)\n        _handleMouseDown(event) {\n            event.preventDefault();\n            this.selectedSlider = this.getSelectedSlider();\n            if (!this.selectedSlider) return;\n            this.the_body.addEventListener('mousemove', this.rotationEventListener, false);\n        }\n\n        _handleMouseUp(event) {\n            event.preventDefault();\n            this.the_body.removeEventListener('mousemove', this.rotationEventListener, false);\n            this.currentSlider = this.selectedSlider;\n        }\n\n        _handleClick(event) {\n            this.selectedSlider = this.getSelectedSlider();\n            if (this.currentSlider && this.getSelectedSlider() && this.currentSlider.id !== this.getSelectedSlider().id) return;\n            if (this.selectedSlider) this._rotation();\n        }\n\n        _handleTouch(event) {\n            event.preventDefault();\n            this.selectedSlider = this.getSelectedSlider();\n            if (this.selectedSlider) this._rotation();\n        }\n\n        _handleMove(event) {\n            event.preventDefault();\n            if (this.continuousMode) this._rotation();\n            else if (this.selectedSlider) this._rotation();\n        }\n\n        _handleEnd(event) {\n            event.preventDefault();\n            this.the_body.removeEventListener('mousemove', this.rotationEventListener, false);\n        }\n\n        // Rotation wrapper\n        _rotation() {\n            this.calculateUserCursor();\n            if (this.continuousMode) this.selectedSlider = this.getSelectedSlider();\n            this.calculateAngles(this.MouseX, this.MouseY);\n            this.drawAll();\n        }\n    }\n\n\n    if (typeof module !== 'undefined' && typeof module.exports !== 'undefined')\n        module.exports = Slider;\n    else window.Slider = Slider;\n})();\n","import Slider from \"../src/slider-circular\";\n\nvar slider = new Slider({canvasId: \"myCanvas\", continuousMode: true});\nslider.addSlider({\n    id: 1,\n    radius: 50,\n    min: -50,\n    max: 50,\n    color: \"#104b63\",\n    step: 1,\n    changed: function (v) {\n        document.getElementById('value1').innerHTML = \"Angle: \" + v.deg.toFixed(2) + \" deg, value: \" + v.value.toFixed(2);\n    }\n});\nslider.setSliderValue(1, 34);\n\nslider.addSlider({\n    id: 2,\n    radius: 90,\n    min: -100,\n    max: 100,\n    color: \"#ff9a9a\",\n    step: 5,\n    changed: function (v) {\n        document.getElementById('value2').innerHTML = \"Angle: \" + v.deg.toFixed(2) + \" deg, value: \" + v.value.toFixed(2);\n    }\n});\nslider.setSliderValue(2, 70);\n\nslider.addSlider({\n    id: 3,\n    radius: 130,\n    min: 0,\n    max: 360,\n    color: \"#76c7e9\",\n    step: 0.1,\n    changed: function (v) {\n        document.getElementById('value3').innerHTML = \"Angle: \" + v.deg.toFixed(2) + \" deg, value: \" + v.value.toFixed(2);\n    }\n});\nslider.setSliderValue(3, 307);\n\nvar slider2 = new Slider({canvasId: \"myCanvas2\"});\nslider2.addSlider({\n    id: 1,\n    radius: 90,\n    min: 0,\n    max: 30,\n    step: 3,\n    color: \"#76c7e9\",\n    changed: function (v) {\n        document.getElementById('value4').innerHTML = \"Angle: \" + v.deg.toFixed(2) + \" deg, value: \" + v.value.toFixed(2);\n    }\n});\n\nslider2.addSlider({\n    id: 3,\n    radius: 130,\n    min: -1,\n    max: 1,\n    step: 0.2,\n    color: \"#ff9a9a\",\n    changed: function (v) {\n        document.getElementById('value5').innerHTML = \"Angle: \" + v.deg.toFixed(2) + \" deg, value: \" + v.value.toFixed(2);\n    }\n});"]}