!function(){function t(t){return t&&t.__esModule?t.default:t}var e={};!function(){class t{constructor(e){this.sliders={},this.scaleWidth=34,this.fillWidth=35,this.knobWidth=35,this.continuousMode=e.continuousMode||!1,this.vertical=e.vertical||!1,this.container=document.getElementById(e.canvasId),this.the_body=document.body,this.context=t.setupHiDpiCanvas(this.container),this.MouseX=0,this.MouseY=0,this.selectedSlider=null,this.currentSlider=null,this.readOnly=e.readOnly||!1,this.readOnly||(this.rotationEventListener=this._rotation.bind(this),this.container.addEventListener("mousedown",this._handleMouseDown.bind(this),!1),this.the_body.addEventListener("mouseup",this._handleMouseUp.bind(this),!1),this.container.addEventListener("click",this._handleClick.bind(this),!1),this.container.addEventListener("touchstart",this._handleTouch.bind(this),!1),this.container.addEventListener("touchmove",this._handleMove.bind(this),!1),this.container.addEventListener("touchend",this._handleEnd.bind(this),!1))}static setupHiDpiCanvas(t){let e=t.getContext("2d"),i=window.devicePixelRatio||1,s=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,l=i/s;if(i!==s){let i=t.width,s=t.height;t.width=i*l,t.height=s*l,t.style.width=i+"px",t.style.height=s+"px",e.scale(l,l)}return e}addSlider(t){this.sliders[t.id]={id:t.id,container:document.getElementById(t.container),color:t.color||"#104b63",width:t.width||100,min:t.min||0,max:t.max||100,step:t.step||1,x0:t.x0||0,y0:t.y0||0,onValueChangeCallback:t.changed||function(t){},value:0,normalizedValue:t.min||0};const e=this.sliders[t.id];this.setSliderValue(e.id,t.min)}setSliderValue(t,e){const i=this.sliders[t];e<=i.min?(i.value=0,i.normalizedValue=i.min):e>=i.max?(i.value=i.width,i.normalizedValue=i.max):(i.value=i.width*(e-i.min)/(i.max-i.min),i.normalizedValue=e),this.drawAll()}drawAll(){this.context.clearRect(0,0,this.container.width,this.container.height);for(let t in this.sliders){if(!this.sliders.hasOwnProperty(t))continue;const e=this.sliders[t];this.drawScale(e),this.drawData(e),this.drawKnob(e),e.onValueChangeCallback({width:e.value,value:e.normalizedValue})}}drawScale(t){let e,i,s=this.vertical?0:1,l=this.vertical?1:0;this.context.beginPath(),this.context.strokeStyle=t.color,this.context.arc(t.x0+s,t.y0-l,this.scaleWidth/2,0,2*Math.PI,!1),this.context.lineWidth=1,this.context.fillStyle=t.color,this.context.fill(),this.vertical?(e=t.x0,i=t.y0-t.width):(e=t.x0+t.width,i=t.y0),this.context.beginPath(),this.context.strokeStyle="#eeeeee",this.context.moveTo(t.x0,t.y0),this.context.lineTo(e,i),this.context.lineWidth=this.scaleWidth,this.context.stroke(),this.context.strokeStyle="#eeeeee",this.context.arc(e,i,this.scaleWidth/2,0,2*Math.PI,!1),this.context.lineWidth=1,this.context.fillStyle="#eeeeee",this.context.fill()}drawData(t){let e,i;this.vertical?(e=t.x0,i=t.y0-t.value):(e=t.x0+t.value,i=t.y0),this.context.beginPath(),this.context.strokeStyle=t.color,this.context.moveTo(t.x0,t.y0),this.context.lineTo(e,i),this.context.lineWidth=this.fillWidth,this.context.stroke()}drawKnob(t){let e,i;this.vertical?(e=t.x0,i=t.y0-t.value):(e=t.x0+t.value,i=t.y0),this.context.beginPath(),this.context.strokeStyle="#eb879c",this.context.arc(e,i,this.knobWidth/2,0,2*Math.PI,!1),this.context.lineWidth=1,this.context.fillStyle="#eb879c",this.context.fill(),this.context.beginPath(),this.context.strokeStyle="yellow",this.context.arc(e,i,this.scaleWidth/10,0,2*Math.PI,!1),this.context.lineWidth=1,this.context.fillStyle="yellow",this.context.fill()}calculateValues(t,e){if(!this.selectedSlider)return;let i,s=this.selectedSlider.max,l=this.selectedSlider.min,n=this.selectedSlider.step,h=this.selectedSlider.width;i=this.vertical?this.selectedSlider.y0-e:t-this.selectedSlider.x0;let d=i;d>this.selectedSlider.width-this.selectedSlider.step&&(d=this.selectedSlider.width),d<0+this.selectedSlider.step&&(d=0);let o=d*(s-l)/h+l;o=(o/n>>0)*n,this.selectedSlider.value=d,this.selectedSlider.normalizedValue=o}calculateUserCursor(){let t=this.container.getBoundingClientRect();event.touches?(this.MouseX=event.touches[0].clientX-t.left,this.MouseY=event.touches[0].clientY-t.top):(this.MouseX=event.clientX-t.left,this.MouseY=event.clientY-t.top)}getSelectedSlider(){let t;this.calculateUserCursor();for(let e in this.sliders){if(!this.sliders.hasOwnProperty(e))continue;let i,s,l=this.sliders[e];if(this.vertical?(i=this.MouseX>=l.x0-this.scaleWidth/2&&this.MouseX<=l.x0+this.scaleWidth/2,s=this.MouseY>=l.y0-l.width-this.scaleWidth/2&&this.MouseY<=l.y0+this.scaleWidth/2):(i=this.MouseX>=l.x0-this.scaleWidth/2&&this.MouseX<=l.x0+l.width+this.scaleWidth/2,s=this.MouseY>=l.y0-this.scaleWidth/2&&this.MouseY<=l.y0+this.scaleWidth/2),i&&s){t=l;break}}return t||null}_handleMouseDown(t){t.preventDefault(),this.selectedSlider=this.getSelectedSlider(),this.selectedSlider&&this.the_body.addEventListener("mousemove",this.rotationEventListener,!1)}_handleMouseUp(t){t.preventDefault(),this.the_body.removeEventListener("mousemove",this.rotationEventListener,!1),this.currentSlider=this.selectedSlider}_handleClick(t){this.selectedSlider=this.getSelectedSlider(),this.currentSlider&&this.getSelectedSlider()&&this.currentSlider.id!==this.getSelectedSlider().id||this.selectedSlider&&this._rotation()}_handleTouch(t){t.preventDefault(),this.selectedSlider=this.getSelectedSlider(),this.selectedSlider&&this._rotation()}_handleMove(t){t.preventDefault(),(this.continuousMode||this.selectedSlider)&&this._rotation()}_handleEnd(t){t.preventDefault(),this.the_body.removeEventListener("mousemove",this.rotationEventListener,!1)}_rotation(){this.calculateUserCursor(),this.continuousMode&&(this.selectedSlider=this.getSelectedSlider()),this.calculateValues(this.MouseX,this.MouseY),this.drawAll()}}void 0!==e?e=t:window.Slider=t}();var i=t(e),s=["#104b63","#ff9a9a","#76c7e9","#ffff9a","#9e9e9e","#bcf5bc","#f096f0","#229ed1"],l={min:-100,max:100,step:10},n=new i({canvasId:"myCanvas0",continuousMode:!0,vertical:!1}),h=new i({canvasId:"myCanvas1",continuousMode:!1,vertical:!1}),d=new i({canvasId:"myCanvas2",continuousMode:!0,vertical:!0}),o=new i({canvasId:"myCanvas3",continuousMode:!1,vertical:!0}),a=new i({canvasId:"karandashi",continuousMode:!0,vertical:!0});function r(t,e){return Math.floor(Math.random()*(e-t+1)+t)}!function(){for(var t=0;t<=6;t++){var e=l;e.width=260,e.color=s[t],e.x0=30,e.y0=30+40*t,e.id=t,n.addSlider(e),n.setSliderValue(t,r(-100,100)),h.addSlider(e),h.setSliderValue(t,r(-100,100)),e.width=210,e.x0=40+40*t,e.y0=240,d.addSlider(e),d.setSliderValue(t,r(-100,100)),o.addSlider(e),o.setSliderValue(t,r(-100,100))}}(),function(){for(var t=0;t<24;t++){var e=l;e.width=340,e.color=s[t%8],e.x0=30+40*t,e.y0=370,e.id=t.toString(),a.addSlider(e),a.setSliderValue(e.id,r(l.min,l.max))}}()}();
//# sourceMappingURL=linear.6b7b7505.js.map
